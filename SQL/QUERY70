SELECT C.CNUM, C.CNAME, C.CITY
FROM CUST C
WHERE EXISTS (
    SELECT 1
    FROM CUST C1
    JOIN ORDERS O1 ON C1.CNUM = O1.CNUM
    WHERE C1.SNUM = C.SNUM AND C1.CNUM != C.CNUM
);
